/* 
  Longform Project Properties Styling
  Add "cssclasses: longform-props" to your frontmatter to use this.
*/

/* ==========================================
   1. åŸºç¡€å®¹å™¨è°ƒæ•´
   ========================================== */
.longform-props .metadata-container {
  margin-bottom: 3em;
  padding-bottom: 2em;
  border-bottom: 1px solid var(--background-modifier-border);
}

/* ==========================================
   2. æ ‡é¢˜ (Title) - é†’ç›®åŒ–
   ========================================== */
.longform-props .metadata-property[data-property-key="title"] .metadata-property-value .metadata-input {
  font-size: 1.6em;
  font-weight: 800;
  color: var(--text-normal);
  line-height: 1.3;
  min-height: auto !important;
}

/* ==========================================
   3. æ‘˜è¦ (Abstract) - å½»åº•ä¿®å¤æˆªæ–­ä¸æ˜¾ç¤ºä¸å…¨
   ========================================== */
/* å¼ºåˆ¶ç‹¬å ä¸€è¡Œ */
.longform-props .metadata-property[data-property-key="abstract"] {
  display: block !important;
  padding: 15px 0;
}

/* æ ‡é¢˜æ ·å¼ */
.longform-props .metadata-property[data-property-key="abstract"] .metadata-property-key {
  display: block;
  width: 100%;
  margin-bottom: 8px;
  font-weight: 600;
  color: var(--text-accent);
  font-size: 0.85em;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: none;
}

/* å†…å®¹å®¹å™¨ - è¿™æ˜¯ä¸€ä¸ªé‡ç¾åŒºï¼Œéœ€è¦å¼ºåŠ›è¦†ç›– */
.longform-props .metadata-property[data-property-key="abstract"] .metadata-property-value {
  display: block !important;
  width: 100% !important;
  height: auto !important;
  min-height: 100px;
  max-height: none !important;
  padding: 15px !important;
  background-color: var(--background-secondary-alt);
  border-radius: 8px;
  border-left: 4px solid var(--text-accent);
  font-family: var(--font-text);
  line-height: 1.6;
  color: var(--text-normal);
  
  /* æ ¸å¿ƒï¼šç§»é™¤æ‰€æœ‰å¯èƒ½å¯¼è‡´æˆªæ–­çš„å±æ€§ */
  overflow: visible !important;
  white-space: pre-wrap !important;
  text-overflow: unset !important;
  -webkit-line-clamp: unset !important;
  -webkit-box-orient: unset !important;
  mask-image: none !important;
  -webkit-mask-image: none !important;
}

/* é’ˆå¯¹é˜…è¯»æ¨¡å¼ä¸‹çš„æ–‡æœ¬å…ƒç´  */
.longform-props .metadata-property[data-property-key="abstract"] .metadata-property-value * {
  white-space: pre-wrap !important;
  overflow: visible !important;
  max-height: none !important;
  -webkit-line-clamp: unset !important;
}

/* ==========================================
   4. ä½œè€…ä¸æœºæ„ (Authors/Affiliations) - å¡ç‰‡åŒ–æ˜¾ç¤º
   ========================================== */
/* æ ‡é¢˜ç‹¬å ä¸€è¡Œ */
.longform-props .metadata-property[data-property-key="authors"],
.longform-props .metadata-property[data-property-key="affiliations"] {
  display: block !important;
  padding: 10px 0;
}

.longform-props .metadata-property[data-property-key="authors"] .metadata-property-key,
.longform-props .metadata-property[data-property-key="affiliations"] .metadata-property-key {
  margin-bottom: 8px;
  font-weight: 600;
  color: var(--text-muted);
}

/* å€¼å®¹å™¨ï¼šå…è®¸åˆ—è¡¨é¡¹å †å  */
.longform-props .metadata-property[data-property-key="authors"] .metadata-property-value,
.longform-props .metadata-property[data-property-key="affiliations"] .metadata-property-value {
  display: flex !important;
  flex-direction: column !important; /* çºµå‘æ’åˆ— */
  gap: 8px !important;
  min-height: auto !important;
  height: auto !important;
  overflow: visible !important;
}

/* åˆ—è¡¨é¡¹ (Pill) - æ ·å¼é‡ç½®ä¸ºå¡ç‰‡ */
.longform-props .metadata-property[data-property-key="authors"] .multi-select-pill,
.longform-props .metadata-property[data-property-key="affiliations"] .multi-select-pill {
  display: block !important;
  width: 100% !important;
  height: auto !important;
  background-color: var(--background-primary-alt) !important;
  border: 1px solid var(--background-modifier-border) !important;
  border-radius: 6px !important;
  padding: 8px 12px !important;
  margin: 0 !important;
  white-space: pre-wrap !important; /* å…è®¸ JSON æ¢è¡Œæ˜¾ç¤º */
  word-break: break-all !important;
}

/* éšè— Pill é‡Œé¢çš„ç§»é™¤æŒ‰é’® (å¯é€‰ï¼Œä¸ºäº†é˜…è¯»ä½“éªŒ) */
/* .longform-props .metadata-property[data-property-key="authors"] .multi-select-pill-remove-button {
  display: none; 
} */

/* é’ˆå¯¹ JSON æ–‡æœ¬å†…å®¹çš„ä¼˜åŒ– */
.longform-props .metadata-property[data-property-key="authors"] .multi-select-pill-content,
.longform-props .metadata-property[data-property-key="affiliations"] .multi-select-pill-content {
  font-family: "JetBrains Mono", "Fira Code", monospace !important;
  font-size: 0.85em !important;
  color: var(--text-normal) !important;
}

/* è¦†ç›–â€œæ— æ•ˆç±»å‹â€çš„çº¢è‰²è­¦å‘Šæ ·å¼ */
.longform-props .metadata-property[data-property-key="authors"] .metadata-input,
.longform-props .metadata-property[data-property-key="affiliations"] .metadata-input {
  color: var(--text-normal) !important;
}
.longform-props .metadata-property-icon {
  display: none !important; /* éšè—è­¦å‘Šå›¾æ ‡ */
}


/* ==========================================
   5. Longform é…ç½® - éšè—ä¸æŠ˜å 
   ========================================== */
/* åˆ†å‰²çº¿ */
.longform-props .metadata-property[data-property-key="longform"] {
  margin-top: 30px;
  border-top: 1px dashed var(--background-modifier-border);
  padding-top: 15px;
}

/* éšè—é…ç½®çš„å…·ä½“å†…å®¹ï¼Œåªæ˜¾ç¤ºä¸€è¡Œæç¤º */
.longform-props .metadata-property[data-property-key="longform"] .metadata-property-value {
  position: relative;
  height: 30px !important;
  min-height: 0 !important;
  overflow: hidden !important;
}

.longform-props .metadata-property[data-property-key="longform"] .metadata-property-value .metadata-input {
  opacity: 0;
}

.longform-props .metadata-property[data-property-key="longform"] .metadata-property-value::after {
  content: "ğŸ”§ Longform Configuration (Hidden)";
  position: absolute;
  left: 0; top: 0; bottom: 0; right: 0;
  display: flex;
  align-items: center;
  color: var(--text-muted);
  font-size: 0.8em;
  font-style: italic;
  background: var(--background-primary);
  pointer-events: none;
}

/* ==========================================
   6. æ¬¡è¦å‚æ•°æ²‰åº•
   ========================================== */
.longform-props .metadata-property[data-property-key="longform"],
.longform-props .metadata-property[data-property-key="csl"],
.longform-props .metadata-property[data-property-key="lineno"],
.longform-props .metadata-property[data-property-key="figures-at-end"],
.longform-props .metadata-property[data-property-key="numbersections"],
.longform-props .metadata-property[data-property-key="titlepage"],
.longform-props .metadata-property[data-property-key="cssclasses"] {
  order: 999;
  opacity: 0.5;
  font-size: 0.85em;
  border-bottom: 1px solid transparent;
}

.longform-props .metadata-property[data-property-key="longform"]:hover,
.longform-props .metadata-property[data-property-key="cssclasses"]:hover {
  opacity: 1;
}
